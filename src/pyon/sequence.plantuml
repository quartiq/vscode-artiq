@startuml

== Example Scenario ==

note over artiq_master : PYON v2 JSON
/ note over "vscode-artiq" : JS Object
/note over "UI preview"
human-readable
inline string
(may be lossy)
end note
/ note over "UI input"
human-readable
inline string
end note

hnote over "artiq_master" : publish

artiq_master -> "vscode-artiq" : PYON v2 JSON

hnote over "vscode-artiq" : **decode** to JS Object
... Extension processes JS Object ...
hnote over "vscode-artiq"
**preview** to human-readable
inline string
(may be lossy)
end hnote

"vscode-artiq" -> "UI preview" : human-readable\ninline string\n(may be lossy)

hnote over "UI preview" : read
... User absorbs all them lossy human-readable inline strings\nSince preview is lossy, nothing's gonna ever come back from here ...
hnote over "vscode-artiq"
**fmt** to human-readable
inline string
end hnote

"vscode-artiq" -> "UI input" : human-readable\ninline string

hnote over "UI input" : read
... User edits human-readable inline string ...
hnote over "UI input" : submit

"UI input" -> "vscode-artiq" : human-readable\ninline string

hnote over "vscode-artiq" : **parse** to JS Object
... Extension processes JS Object ...
hnote over "vscode-artiq" : **encode** to PYON v2 JSON

"vscode-artiq" -> artiq_master : PYON v2 JSON

hnote over "artiq_master" : receive

@enduml